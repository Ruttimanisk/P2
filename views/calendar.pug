extends layout_admin

block content
    h1 Vagtplan

    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css')
    script(src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js')

    div#calendar(style="max-width: 900px; margin: 40px auto;")

    script.
        console.log("üí¨ Events JSON string:", !{events});
        try {
            const events = !{events};
            document.addEventListener('DOMContentLoaded', function () {
                var calendarEl = document.getElementById('calendar');
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: 'timeGridWeek',
                    allDaySlot: false,
                    slotMinTime: "07:00:00",
                    slotMaxTime: "20:00:00",
                    events: events
                });
                calendar.render();
            });
        } catch (err) {
            console.error("‚ùå Fejl i JSON.parse:", err);
        }

